function g(e){return document.getElementById(e)}function q(e){return document.querySelectorAll(e)}function checkOverflow(e,t){t=(t=t||getComputedStyle(e)).overflow;return"auto"!=t&&"hidden"!=t&&(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight)}function containFloatAndAbsolute(e){for(var t=0;t<e.children.length;t++)if("absolute"==getComputedStyle(e.children[t]).display)return!0;return!1}function isIgnore(e){return"surf-menubar"==e.id||"mainbar"==e.id}function insertClearfix(e){var t=document.createElement("div");t.setAttribute("calculated","true"),t.setAttribute("style","clear:both"),e.appendChild(t)}function countChild(e){for(var t=e.children.length,n=0;n<e.children.length;n++)t+=countChild(e.children[n]);return t}var realtimeTranslateLock=!1,chineseRegex=/[\u3400-\u9FBF]/;function recurTraver(e,t,n){if(e)for(var a=0;a<e.childNodes.length;a++)3==e.childNodes[a].nodeType?chineseRegex.test(e.childNodes[a].textContent)&&(t.push(e.childNodes[a]),n.push(e.childNodes[a].textContent)):"SCRIPT"!=e.childNodes[a].tagName&&recurTraver(e.childNodes[a],t,n)}function translatePlaceholder(e,t){for(var n=q('input[type="submit"], [placeholder], [title]'),a=0;a<n.length;a++){var o=!1,r=0;"submit"==n[a].type&&n[a].value.match(/[\u3400-\u9FBF]/)&&(o||(o=!0,e.push(n[a]),r=e.length-1),t.push(r+"<obj>btnval<obj>"+n[a].value)),n[a].placeholder&&n[a].placeholder.match(/[\u3400-\u9FBF]/)&&(o||(o=!0,e.push(n[a]),r=e.length-1),t.push(r+"<obj>plchd<obj>"+n[a].placeholder)),n[a].title&&n[a].title.match(/[\u3400-\u9FBF]/)&&(o||(o=!0,e.push(n[a]),r=e.length-1),t.push(r+"<obj>title<obj>"+n[a].title))}}var isChinese=document.title.match(/[\u3400-\u9FBF]/),oldSend=XMLHttpRequest.prototype.send,translateDelay=120,deferDelay=200,enableRemoveOverflow=!0;function realtimeTranslate(){var n,e,t,a,o,r;realtimeTranslateLock||(realtimeTranslateLock=!0,setTimeout(function(){realtimeTranslateLock=!1},translateDelay),isChinese&&attachAjaxRoot(),n=[],e=[],t=document.body,recurTraver(q("title")[0],n,e),recurTraver(t,n,e),0<n.length&&(o=e.join("=|==|="),isChinese||(r=o.replace(/[\u3400-\u9FBF]+/g,"").length,200<o.length-r&&(isChinese=!0)),(r=new XMLHttpRequest).onreadystatechange=function(){if(4==this.readyState&&200==this.status){for(var e=this.responseText.split("=|==|="),t=0;t<n.length;t++)n[t].textContent=e[t];isChinese&&(enableRemoveOverflow&&removeOverflow(),invokeOnChinesePage())}},r.open("POST","//sangtacviet.xyz/",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),oldSend.apply(r,["sajax=trans&content="+encodeURIComponent(o)])),translatePlaceholder(a=[],r=[]),0<a.length&&(o=r.join("=|==|="),(r=new XMLHttpRequest).onreadystatechange=function(){if(4==this.readyState&&200==this.status)for(var e=this.responseText.split("=|==|="),t=0;t<e.length;t++){var n=e[t].split("<obj>");"title"==n[1]?a[n[0]].title=n[2]:"btnval"==n[1]?a[n[0]].value=n[2]:"plchd"==n[1]&&(a[n[0]].placeholder=n[2])}},r.open("POST","//sangtacviet.xyz/",!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),oldSend.apply(r,["sajax=trans&content="+encodeURIComponent(o)])))}function attachAjax(){var e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){this.onloadend=function(){10<this.responseText.length&&document.dispatchEvent(new CustomEvent("CallTranslator",{}))},e.apply(this,arguments)}}function attachAjaxRoot(e){var t=document.createElement("script");t.textContent=attachAjax.toString()+"attachAjax()",(document.head||document.documentElement).appendChild(t),t.remove(),document.addEventListener("CallTranslator",function(){setTimeout(realtimeTranslate,0)}),attachAjaxRoot=function(){}}function runOnMainContext(e){var t=document.createElement("script");t.textContent=e,(document.head||document.documentElement).appendChild(t),t.remove()}function invokeOnChinesePage(){if(isChinese){var t=!1,n=!1;const a=new MutationObserver(function(e){t?n=n||!0:(setTimeout(function(){t=!1,n&&(n=!1,realtimeTranslate())},deferDelay),realtimeTranslate())});a.observe(document.body,{childList:!0,subtree:!0,characterData:!0})}var e;isChinese&&((e=document.createElement("style")).textContent=":not(i){font-family: arial;word-break:break-word;text-overflow:ellipsis;}",document.head.appendChild(e)),window.invokeOnChinesePage=function(){}}function dichThongTinTruyen(dname){realtimeTranslate()}